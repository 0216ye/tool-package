<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>call_apply_bind</title>
</head>
<body>
    <script>
        Function.prototype.call = function (obj , ...args){
            //当第一个参数没有传时，this为window
            if ( obj === null || obj === undefined ){
                obj = window
            }
            //this(...args)//this为原函数
            //向obj添加一个函数temp:this
            obj.temp = this
            //调用obj身上的temp函数执行
            const result = obj.temp(...args)
            //将temp函数从obj上面删除
            delete obj.temp
            //将原函数的返回值返回
            return result
        }
        Function.prototype.aplly = function (obj , ...args){
            //当第一个参数没有传时，this为window
            if ( obj === null || obj === undefined ){
                obj = window
            }
            //this(...args)//this为原函数
            //向obj添加一个函数temp:this
            obj.temp = this
            //调用obj身上的temp函数执行
            const result = obj.temp(...args)
            //将temp函数从obj上面删除
            delete obj.temp
            //将原函数的返回值返回
            return result
        }

        Function.prototype.bind = function (obj,...args){
            return  (...args2) =>{
                //返回一个函数，并且调用该函数执行时，旧函数自动触发调用，参数列表为args+args2
                this.call(obj,...args,...args2)
            }
        }

    </script>

    <script>
        const obj = {m:1}
        function fn (a,b){
            console.log(a,b,this)
            return a+b
        }
        fn.call(obj,2,3) //相当于 obj.fn(a,b)
        fn.apply(obj,[2,3])
        fn.bind(obj,12,3)()
    </script>
</body>
</html>